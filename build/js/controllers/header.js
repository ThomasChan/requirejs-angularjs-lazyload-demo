window.application.components.controller("HeaderCtrl",["$rootScope","$scope","$location","API","$route","$timeout",function(e,o,t,s,n,a){o.isIndex="/"==t.path()?!0:!1,o.isFind="/find"==t.path()?!0:!1,o.isMe="/me"==t.path()?!0:!1,o.isDetail="/mentor"==t.path()?!0:!1,o.isComments="/mentor/comments"==t.path()?!0:!1,o.isSearch="/search"==t.path()?!0:!1,o.isComments&&(o.mentorName=t.search().mentor||"评论"),o.search={keywords:t.search().keywords||"","do":function(){o.search.keywords&&FILTER.isLegal(o.search.keywords)&&e.$broadcast("searchKeywords",o.search.keywords)}},o.goBack=function(){window.history.back()};var i=n.routes[t.path()];o.isMeOptions=i.isMeOptions,o.isMeOptions&&(o.meOptions=i.meOptions,("/me/base/update"==t.path()||"/me/mentor/create/other"==t.path())&&(o.meOptions=i.meOptions[t.search().action],o.meOptions||t.path("/")),o.$on("signTabChange",function(e,t){o.meOptions=t}),e.$on("createMentorStep",function(e,t){console.log("headerjs...",t),a(function(){o.meOptions=t})}))}]);