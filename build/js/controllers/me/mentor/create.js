window.application.components.controller("CreateMentor",function(t,e,s,o,a,n){response={data:{realname_status:0}},e.steps={steps:[{html:"实名认证",index:1},{html:"教育认证",index:2},{html:"设置课程",index:3},{html:"完善资料",index:4}],current:response.data.realname_status?2:1,stepsCurrent:function(t){return+e.steps.current==t},nextStep:function(s){e.steps.current=s;var o=e.steps.steps[s-1].html;t.$broadcast("createMentorStep",o)}},o(function(){e.steps.nextStep(e.steps.current)}),e.uploadfiles={progress:0,src:"",button:"点击上传资料",disabled:!1},e.uploadFiles=function(t,s){e.errFile=s&&s[0],console.log(t),t&&(e.uploadfiles.disabled=!0,e.uploadfiles.button="正在上传...",t.upload=a.upload({url:"https://angular-file-upload-cors-srv.appspot.com/upload",data:{file:t}}),t.upload.then(function(t){o(function(){console.log(t),e.uploadfiles.src=t.data,e.uploadfiles.button="重新选择上传",e.uploadfiles.disabled=!1})},function(t){t.status>0&&(e.uploadfiles.disabled=!1,e.errorMsg=t.status+": "+t.data)},function(t){e.uploadfiles.progress=Math.min(100,parseInt(100*t.loaded/t.total))}))}});